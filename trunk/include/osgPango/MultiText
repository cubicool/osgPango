// -*-c++-*- osgPango - Copyright (C) 2009 Jeremy Moles

#ifndef OSGPANGO_MULTITEXT
#define OSGPANGO_MULTITEXT

#include <osgPango/Text>

namespace osgPango {

class OSGPANGO_EXPORT MultiText: public TextRenderer, public osg::MatrixTransform {
public:
	typedef std::map<PangoFont*, osg::ref_ptr<GlyphCache> > FontMap;
	typedef std::map<PangoFont*, GlyphGeometryVector>       GlyphGeometryMap;

	MultiText();

	virtual ~MultiText() {}
	
	virtual void drawGlyphs(PangoFont*, PangoGlyphString*, int, int);

	void addText        (const std::string&, int, int);
	void writeAllImages (const std::string&);
	bool finalize       ();


private:
	FontMap          _fontMap;
	GlyphGeometryMap _ggMap;

	int _lastX;
	int _lastY;
};

}

#endif
